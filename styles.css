* {box-sizing:border-box;margin:0;padding:0;}
body {font-family:sans-serif;background:var(--bg);color:var(--text);height:100vh;display:flex;}
:root {--bg:#fff;--text:#000;--sidebar-bg:#f5f5f5;--accent:#4a90e2;--bubble-me:#dcf8c6;--bubble-other:#fff;--bubble-system:#eee;}
body.dark {--bg:#1e1e1e;--text:#eee;--sidebar-bg:#2a2a2a;--bubble-me:#054740;--bubble-other:#333;--bubble-system:#444;}
.sidebar {width:200px;background:var(--sidebar-bg);padding:1rem;display:flex;flex-direction:column;}
.sidebar h3 {margin-bottom:.5rem;}
.sidebar ul {list-style:none;flex:1;}
.sidebar li {padding:.5rem;cursor:pointer;border-radius:4px;}
.sidebar li.active, .sidebar li:hover {background:var(--accent);color:#fff;}
.theme-toggle {text-align:center;margin-top:1rem;}
.chat {flex:1;display:flex;flex-direction:column;}
.chat-header {padding:1rem;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;}
.messages {flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:.5rem;}
.msg {max-width:70%;padding:.5rem .75rem;border-radius:10px;position:relative;word-wrap:break-word;}
.msg.me {align-self:flex-end;background:var(--bubble-me);}
.msg.other {align-self:flex-start;background:var(--bubble-other);}
.msg.system {align-self:center;background:var(--bubble-system);font-size:.85rem;}
.msg .meta {font-size:.7rem;text-align:right;margin-top:.25rem;}
.msg .controls {position:absolute;top:-20px;right:0;display:flex;gap:.25rem;}
.msg .controls button {font-size:.7rem;}
.msg .reactions {margin-top:.25rem;display:flex;gap:.25rem;}
.msg .reactions span {font-size:.8rem;background:rgba(0,0,0,.1);padding:2px 4px;border-radius:4px;}
.input-area {display:flex;padding:1rem;border-top:1px solid #ccc;gap:.5rem;}
.input-area input {flex:1;padding:.5rem;border:1px solid #ccc;border-radius:4px;}
.input-area button {padding:.5rem 1rem;}
.typing {padding:0 1rem 1rem;font-size:.8rem;color:#888;}
.typing.hidden {display:none;}
.modal {position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;}
.modal.hidden {display:none;}
.modal-content {background:var(--bg);padding:1rem;border-radius:8px;display:flex;flex-direction:column;gap:.5rem;}
.poll .option {padding:.25rem .5rem;margin-top:.25rem;background:rgba(0,0,0,.05);border-radius:4px;cursor:pointer;}
.poll .option.selected {background:var(--accent);color:#fff;}
.picker {position:absolute;bottom:100%;right:0;background:var(--bubble-system);padding:.25rem;border-radius:4px;display:flex;gap:.25rem;}
.picker span {cursor:pointer;}
@media(max-width:600px){
  body {flex-direction:column;}
  .sidebar {position:relative;width:100%;flex-direction:row;overflow-x:auto;}
  .sidebar ul {display:flex;}
  .sidebar li {flex:1;text-align:center;}
  .chat {flex:1;}
}
