<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <link rel="stylesheet" href="modern-styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>💬 Chat App</h1>
            </div>
            <div class="header-right">
                <button id="btnLocation" class="btn btn-secondary" onclick="openLocationModal()">🌍 Lokasyon</button>
                <button id="btnProfile" class="btn btn-secondary" onclick="openProfileModal()">👤 Profil</button>
                <button id="btnLogin" class="btn btn-primary" onclick="openLoginModal()">🔐 Giriş</button>
                <button id="btnLogout" class="btn btn-danger" style="display: none;" onclick="doLogout()">🚪 Çıkış</button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>📢 Genel Kanallar</h3>
                    <div id="generalChannels" class="channel-list">
                        <!-- Genel kanallar buraya yüklenecek -->
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>⭐ Sponsor Kanallar</h3>
                    <div id="sponsorChannels" class="channel-list">
                        <!-- Sponsor kanallar buraya yüklenecek -->
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>🎯 İlgi Alanı Kanalları</h3>
                    <div id="interestChannels" class="channel-list">
                        <!-- İlgi alanı kanalları buraya yüklenecek -->
                    </div>
                </div>

                <div class="sidebar-section">
                    <button id="btnCreateChannel" class="btn btn-success btn-full" onclick="openCreateChannelModal()">➕ Kanal Oluştur</button>
                </div>
            </aside>

            <!-- Chat Area -->
            <main class="chat-area">
                <div class="chat-header">
                    <h2 id="currentChannel">#genel</h2>
                    <div class="channel-info">
                        <span id="userCount">0 kullanıcı</span>
                    </div>
                </div>

                <div id="messages" class="messages">
                    <!-- Mesajlar buraya yüklenecek -->
                </div>

                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <span>Birisi yazıyor...</span>
                </div>

                <div class="message-input-area">
                    <input type="text" id="messageInput" placeholder="Mesajınızı yazın..." maxlength="500">
                    <button id="btnSend" class="btn btn-primary">📤</button>
                </div>
            </main>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🔐 Giriş / Kayıt</h2>
                <button class="close-btn" onclick="closeLoginModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="switchTab('login')">Giriş</button>
                    <button class="tab-btn" onclick="switchTab('register')">Kayıt</button>
                </div>

                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginEmail">E-posta:</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Şifre:</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Giriş Yap</button>
                </form>

                <form id="registerForm" class="auth-form" style="display: none;">
                    <div class="form-group">
                        <label for="registerEmail">E-posta:</label>
                        <input type="email" id="registerEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Şifre:</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Kayıt Ol</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Location Modal -->
    <div id="locationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🌍 Lokasyon Seçin</h2>
                <button class="close-btn" onclick="closeLocationModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="location-options">
                    <button class="location-btn" onclick="selectLocation('TR', 'Turkey', 'Istanbul')">
                        🇹🇷 Türkiye - İstanbul
                    </button>
                    <button class="location-btn" onclick="selectLocation('US', 'United States', 'New York')">
                        🇺🇸 Amerika - New York
                    </button>
                    <button class="location-btn" onclick="selectLocation('FR', 'France', 'Paris')">
                        🇫🇷 Fransa - Paris
                    </button>
                    <button class="location-btn" onclick="selectLocation('DE', 'Germany', 'Berlin')">
                        🇩🇪 Almanya - Berlin
                    </button>
                    <button class="location-btn" onclick="selectLocation('ES', 'Spain', 'Madrid')">
                        🇪🇸 İspanya - Madrid
                    </button>
                </div>
                <div class="location-actions">
                    <button class="btn btn-secondary" onclick="autoDetectLocation()">📍 Otomatik Algıla</button>
                    <button class="btn btn-danger" onclick="skipLocation()">⏭️ Geç</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Channel Modal -->
    <div id="createChannelModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>➕ Yeni Kanal Oluştur</h2>
                <button class="close-btn" onclick="closeCreateChannelModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="createChannelForm">
                    <div class="form-group">
                        <label for="channelName">Kanal Adı:</label>
                        <input type="text" id="channelName" placeholder="#kanaladi" required>
                    </div>
                    <div class="form-group">
                        <label>Kanal Türü:</label>
                        <div class="radio-group">
                            <label><input type="radio" name="channelType" value="public" checked> 🌐 Genel</label>
                            <label><input type="radio" name="channelType" value="private"> 🔒 Özel</label>
                        </div>
                    </div>
                    <div class="form-group" id="passwordSection" style="display: none;">
                        <label for="channelPassword">Şifre:</label>
                        <input type="password" id="channelPassword" placeholder="Özel kanal şifresi">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Kanal Oluştur</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal">
        <div class="modal-content profile-modal">
            <div class="modal-header">
                <h2>👤 Profil Düzenle</h2>
                <button class="close-btn" onclick="closeProfileModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Anonim kullanıcı için rastgele nickname -->
                <div class="profile-section">
                    <h3>🎭 Kullanıcı Adı</h3>
                    <div class="nickname-section">
                        <input type="text" id="userNickname" placeholder="Rastgele nickname oluşturuluyor..." readonly>
                        <button class="btn btn-secondary" onclick="generateRandomNickname()">🎲 Yeni Nickname</button>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>🎯 İlgi Alanlarınız <span id="hobbyCount">(0/10)</span></h3>
                    <div class="hobby-search">
                        <input type="text" id="hobbySearch" placeholder="İlgi alanı ara..." onkeyup="filterHobbies()">
                    </div>
                    <div class="hobby-grid-large" id="hobbyGrid">
                        <div class="hobby-item-large" data-hobby="teknoloji">💻 Teknoloji</div>
                        <div class="hobby-item-large" data-hobby="spor">⚽ Spor</div>
                        <div class="hobby-item-large" data-hobby="müzik">🎵 Müzik</div>
                        <div class="hobby-item-large" data-hobby="film">🎬 Film</div>
                        <div class="hobby-item-large" data-hobby="oyun">🎮 Oyun</div>
                        <div class="hobby-item-large" data-hobby="sanat">🎨 Sanat</div>
                        <div class="hobby-item-large" data-hobby="yemek">🍕 Yemek</div>
                        <div class="hobby-item-large" data-hobby="seyahat">✈️ Seyahat</div>
                        <div class="hobby-item-large" data-hobby="kitap">📚 Kitap</div>
                        <div class="hobby-item-large" data-hobby="fotoğraf">📸 Fotoğraf</div>
                        <div class="hobby-item-large" data-hobby="moda">👗 Moda</div>
                        <div class="hobby-item-large" data-hobby="bilim">🔬 Bilim</div>
                    </div>
                </div>
                
                <div class="profile-section" id="personalInfoSection" style="display: none;">
                    <h3>👤 Kişisel Bilgiler</h3>
                    <form id="profileForm">
                        <div class="form-group">
                            <label for="profileName">Ad:</label>
                            <input type="text" id="profileName" placeholder="Adınız">
                        </div>
                        <div class="form-group">
                            <label for="profileSurname">Soyad:</label>
                            <input type="text" id="profileSurname" placeholder="Soyadınız">
                        </div>
                        <div class="form-group">
                            <label for="profileAge">Yaş:</label>
                            <input type="number" id="profileAge" placeholder="Yaşınız" min="13" max="100">
                        </div>
                        <div class="form-group">
                            <label for="profileBio">Hakkımda:</label>
                            <textarea id="profileBio" placeholder="Kendiniz hakkında kısa bilgi..." rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full">Kaydet</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="translations.js"></script>
    <script src="location-manager.js"></script>
    <script src="app.js"></script>
    <script src="advanced-features.js"></script>
</body>
</html>