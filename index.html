<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸš€ GeliÅŸmiÅŸ Sohbet UygulamasÄ± - Lokasyon BazlÄ±</title>
    <link rel="stylesheet" href="modern-styles.css">
</head>
<body>
    <!-- Modern Menubar -->
  <div class="menubar">
        <h1>ğŸš€ GeliÅŸmiÅŸ Sohbet</h1>
        <div class="menubar-buttons">
      <button id="btnLogin" data-translate="login">GiriÅŸ</button>
            <button id="btnProfile" data-translate="profile" style="display:none;">Profil</button>
            <button id="btnLocation" onclick="openLocationModal()" data-translate="location">ğŸ“ Lokasyon</button>
            <button id="btnSponsor" data-translate="sponsor">ğŸ’° Sponsor</button>
            <button id="btnCreateChannel" data-translate="createChannel">â• Kanal OluÅŸtur</button>
            <button id="btnDonate">â˜• Kahve Ä°kram Et</button>
            <button id="btnMenu">â˜°</button>
  </div>
    </div>

    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <!-- KullanÄ±cÄ± Bilgisi -->
            <div class="user-info">
                <div class="user-avatar">ğŸ‘¤</div>
                <div class="user-details">
                    <div class="user-name" id="userName">Anonim</div>
                    <div class="user-status" id="userStatus">Ã‡evrimiÃ§i</div>
                    <div class="location-indicator" id="locationIndicator" style="display:none;">
                        <span id="currentLocation">Lokasyon algÄ±lanÄ±yor...</span>
                    </div>
                    <button id="btnLogin" onclick="openLoginModal()" style="margin-top: 10px; padding: 8px 16px; background: var(--brand); color: white; border: none; border-radius: 4px; cursor: pointer;" data-translate="loginBtn">GiriÅŸ</button>
    </div>
  </div>

            <!-- Kanallar -->
            <div class="channels-section">
                <h3 data-translate="sponsorChannelsTitle">ğŸ’° Sponsor Kanallar</h3>
                <ul class="list" id="sponsorList">
                    <!-- Sponsor kanallar buraya yÃ¼klenecek -->
                </ul>

                <h3 data-translate="generalChannelsTitle">ğŸŒ Genel Kanallar</h3>
                <ul class="list" id="channelList">
                    <!-- Lokasyon bazlÄ± kanallar buraya yÃ¼klenecek -->
                </ul>

                <h3 data-translate="favoriteChannelsTitle">â­ Favori KanallarÄ±m</h3>
                <ul class="list" id="followList">
                    <!-- Takip edilen kanallar -->
                </ul>
  </div>

            <!-- KullanÄ±cÄ±lar -->
            <div class="users-section">
                <h3 data-translate="users">ğŸ‘¥ KullanÄ±cÄ±lar</h3>
                <ul class="list" id="userList">
                    <!-- Aktif kullanÄ±cÄ±lar -->
                </ul>
      </div>
      
            <!-- Kanal Ekleme -->
            <div class="channel-add">
                <input type="text" id="newChannel" placeholder="Yeni kanal adÄ± (#kanal)" data-placeholder="channelName">
                <button id="btnAddChannel" data-translate="addBtn">Ekle</button>
    </div>
  </div>

        <!-- Ana Ä°Ã§erik -->
        <div class="main-content">
            <div class="chat-container">
                <!-- Kanal BaÅŸlÄ±ÄŸÄ± -->
                <div class="channel-header">
                    <h2 id="currentChannel">#genel</h2>
                    <div class="channel-info">
                        <span id="userCount">0 kullanÄ±cÄ±</span>
                        <span id="channelDescription">Genel sohbet kanalÄ±</span>
                    </div>
      </div>
      
                <!-- Mesajlar -->
                <div class="messages" id="messages">
                    <div class="info">ğŸš€ GeliÅŸmiÅŸ sohbet uygulamasÄ±na hoÅŸ geldiniz!</div>
                    <div class="info">ğŸ“ Lokasyonunuz otomatik algÄ±lanÄ±yor...</div>
                    <div class="info">ğŸŒ Dil otomatik olarak ayarlanÄ±yor...</div>
      </div>
      
                <!-- YazÄ±yor GÃ¶stergesi -->
                <div class="typing-area" id="typingArea"></div>

                <!-- Mesaj GÃ¶nderme -->
                <div class="input-area">
                    <input type="text" id="messageInput" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." data-placeholder="messageInput">
                    <button id="btnSend">GÃ¶nder</button>
      </div>
    </div>
      </div>
    </div>

    <!-- Mobil MenÃ¼ -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <h3>MenÃ¼</h3>
            <button class="mobile-menu-close" onclick="toggleMobileMenu()">âœ–</button>
  </div>

        <div class="mobile-menu-content">
            <!-- Mobil Kanallar -->
            <div class="mobile-channels">
                <h4 data-translate="sponsorChannelsTitle">ğŸ’° Sponsor Kanallar</h4>
                <ul class="mobile-list" id="sponsorListMobile"></ul>

                <h4 data-translate="generalChannelsTitle">ğŸŒ Genel Kanallar</h4>
                <ul class="mobile-list" id="channelListMobile"></ul>

                <h4 data-translate="favoriteChannelsTitle">â­ Favori KanallarÄ±m</h4>
                <ul class="mobile-list" id="followListMobile"></ul>
      </div>
      
            <!-- Mobil KullanÄ±cÄ±lar -->
            <div class="mobile-users">
                <h4 data-translate="users">ğŸ‘¥ KullanÄ±cÄ±lar</h4>
                <ul class="mobile-list" id="userListMobile"></ul>
      </div>
      
            <!-- Mobil Kanal Ekleme -->
            <div class="mobile-channel-add">
                <input type="text" id="newChannelMobile" placeholder="Yeni kanal adÄ±" data-placeholder="channelName">
                <button id="btnAddChannelMobile" data-translate="addBtn">Ekle</button>
      </div>
      </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-translate="loginTitle">GiriÅŸ / KayÄ±t</h3>
                <button class="modal-close" onclick="closeLoginModal()">âœ–</button>
  </div>
            <div class="modal-body">
                <input type="text" id="identifier" placeholder="Email veya Telefon" data-placeholder="email">
                <input type="password" id="password" placeholder="Åifre" data-placeholder="password">
                <label>
                    <input type="checkbox" id="rememberMe"> 
                    <span data-translate="rememberMe">Beni HatÄ±rla</span>
                </label>
      </div>
            <div class="modal-footer">
                <button onclick="doLogin()" data-translate="loginBtn">GiriÅŸ</button>
                <button onclick="doRegister()" data-translate="registerBtn">KayÄ±t</button>
    </div>
    </div>
  </div>

    <!-- Kanal OluÅŸturma Modal -->
    <div class="modal" id="createChannelModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-translate="channelTitle">Yeni Kanal OluÅŸtur</h3>
                <button class="modal-close" onclick="closeCreateChannelModal()">âœ–</button>
            </div>
            <div class="modal-body">
                <input type="text" id="channelNameInput" placeholder="Kanal adÄ±" data-placeholder="channelName">
                <input type="text" id="channelDescriptionInput" placeholder="Kanal aÃ§Ä±klamasÄ±" data-placeholder="channelDescription">
                <select id="channelTypeSelect" name="channelType" data-translate="channelType">
                    <option value="public" data-translate="public">Genel</option>
                    <option value="private" data-translate="private">Ã–zel</option>
                </select>
                <div id="passwordSection" style="display:none;">
                    <input type="password" id="channelPasswordInput" placeholder="Åifre" data-placeholder="password">
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="createChannel()" data-translate="createChannel">Kanal OluÅŸtur</button>
                <button onclick="closeCreateChannelModal()" data-translate="cancelBtn">Ä°ptal</button>
            </div>
            </div>
  </div>

    <!-- Profil DÃ¼zenleme Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content profile-modal">
            <div class="modal-header">
                <h3 data-translate="profileTitle">Profil OluÅŸtur</h3>
                <button class="modal-close" onclick="closeProfileModal()">âœ–</button>
            </div>
            <div class="modal-body">
                <!-- Ä°lgi AlanlarÄ± BÃ¶lÃ¼mÃ¼ -->
                <div class="profile-section">
                    <h4>ğŸ¯ Ä°lgi AlanlarÄ±nÄ±zÄ± SeÃ§in</h4>
                    <p class="section-description">Ä°lgi alanlarÄ±nÄ±zÄ± seÃ§in, size uygun kanallar Ã¶nerilecek</p>
                    <div class="hobby-grid-large">
                        <div class="hobby-item-large" data-hobby="teknoloji">
                            <span class="hobby-icon">ğŸ’»</span>
                            <span class="hobby-name">Teknoloji</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="spor">
                            <span class="hobby-icon">âš½</span>
                            <span class="hobby-name">Spor</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="mÃ¼zik">
                            <span class="hobby-icon">ğŸµ</span>
                            <span class="hobby-name">MÃ¼zik</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="oyun">
                            <span class="hobby-icon">ğŸ®</span>
                            <span class="hobby-name">Oyun</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="film">
                            <span class="hobby-icon">ğŸ¬</span>
                            <span class="hobby-name">Film</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="sanat">
                            <span class="hobby-icon">ğŸ¨</span>
                            <span class="hobby-name">Sanat</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="bilim">
                            <span class="hobby-icon">ğŸ”¬</span>
                            <span class="hobby-name">Bilim</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="yemek">
                            <span class="hobby-icon">ğŸ³</span>
                            <span class="hobby-name">Yemek</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="seyahat">
                            <span class="hobby-icon">âœˆï¸</span>
                            <span class="hobby-name">Seyahat</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="kitap">
                            <span class="hobby-icon">ğŸ“š</span>
                            <span class="hobby-name">Kitap</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="fotoÄŸraf">
                            <span class="hobby-icon">ğŸ“¸</span>
                            <span class="hobby-name">FotoÄŸraf</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="moda">
                            <span class="hobby-icon">ğŸ‘—</span>
                            <span class="hobby-name">Moda</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="doÄŸa">
                            <span class="hobby-icon">ğŸŒ¿</span>
                            <span class="hobby-name">DoÄŸa</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="mÃ¼zik">
                            <span class="hobby-icon">ğŸ¼</span>
                            <span class="hobby-name">MÃ¼zik</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="dans">
                            <span class="hobby-icon">ğŸ’ƒ</span>
                            <span class="hobby-name">Dans</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="yoga">
                            <span class="hobby-icon">ğŸ§˜</span>
                            <span class="hobby-name">Yoga</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="koÅŸu">
                            <span class="hobby-icon">ğŸƒ</span>
                            <span class="hobby-name">KoÅŸu</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="yÃ¼zme">
                            <span class="hobby-icon">ğŸŠ</span>
                            <span class="hobby-name">YÃ¼zme</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="bisiklet">
                            <span class="hobby-icon">ğŸš´</span>
                            <span class="hobby-name">Bisiklet</span>
                            <span class="hobby-plus">+</span>
                        </div>
                        <div class="hobby-item-large" data-hobby="kamp">
                            <span class="hobby-icon">â›º</span>
                            <span class="hobby-name">Kamp</span>
                            <span class="hobby-plus">+</span>
                        </div>
                    </div>
                </div>
                
                <!-- KiÅŸisel Bilgiler BÃ¶lÃ¼mÃ¼ (Gizli) -->
                <div class="profile-section" id="personalInfoSection" style="display: none;">
                    <h4>ğŸ‘¤ KiÅŸisel Bilgiler (Gizli)</h4>
                    <p class="section-description">Bu bilgiler sadece size Ã¶zel, diÄŸer kullanÄ±cÄ±lar gÃ¶remez</p>
                    <input type="text" id="firstName" placeholder="AdÄ±nÄ±z" data-placeholder="firstName">
                    <input type="text" id="lastName" placeholder="SoyadÄ±nÄ±z" data-placeholder="lastName">
                    <select id="gender" data-translate="gender">
                        <option value="">Cinsiyet SeÃ§in</option>
                        <option value="male">Erkek</option>
                        <option value="female">KadÄ±n</option>
                        <option value="other">DiÄŸer</option>
                    </select>
                    <input type="date" id="birth" data-translate="birth">
                    <input type="text" id="country" placeholder="Ãœlke" data-placeholder="country">
                    <input type="text" id="city" placeholder="Åehir" data-placeholder="city">
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="saveProfile()" data-translate="saveBtn">Profil OluÅŸtur</button>
                <button onclick="closeProfileModal()" data-translate="cancelBtn">Ä°ptal</button>
            </div>
        </div>
    </div>

    <!-- Ä°lgi AlanlarÄ± Modal -->
    <div class="modal" id="hobbyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-translate="hobbiesTitle">Ä°lgi AlanlarÄ±nÄ±zÄ± SeÃ§in</h3>
                <button class="modal-close" onclick="closeHobbyModal()">âœ–</button>
            </div>
            <div class="modal-body">
                <div class="hobby-grid">
                    <label class="hobby-item">
                        <input type="checkbox" value="teknoloji" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ’» Teknoloji</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="spor" class="hobby-checkbox">
                        <span class="hobby-label">âš½ Spor</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="mÃ¼zik" class="hobby-checkbox">
                        <span class="hobby-label">ğŸµ MÃ¼zik</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="oyun" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ® Oyun</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="film" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ¬ Film</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="sanat" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ¨ Sanat</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="bilim" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ”¬ Bilim</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="yemek" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ³ Yemek</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="seyahat" class="hobby-checkbox">
                        <span class="hobby-label">âœˆï¸ Seyahat</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="kitap" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ“š Kitap</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="fotoÄŸraf" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ“¸ FotoÄŸraf</span>
                    </label>
                    <label class="hobby-item">
                        <input type="checkbox" value="moda" class="hobby-checkbox">
                        <span class="hobby-label">ğŸ‘— Moda</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="saveHobbies()" data-translate="saveBtn">Kaydet</button>
                <button onclick="closeHobbyModal()" data-translate="cancelBtn">Ä°ptal</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
  <script src="translations.js"></script>
    <script src="location-manager.js"></script>
  <script src="app.js"></script>
  <script src="advanced-features.js"></script>
  
  <script>
        // Sayfa yÃ¼klendiÄŸinde Ã§alÄ±ÅŸacak fonksiyonlar
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸš€ Sayfa yÃ¼klendi, lokasyon sistemi baÅŸlatÄ±lÄ±yor...');
            
            // Lokasyon gÃ¶stergesini gÃ¼ncelle
            updateLocationIndicator();
            
            // MenÃ¼ butonlarÄ±
            document.getElementById('btnMenu').onclick = toggleMobileMenu;
            document.getElementById('btnLocation').onclick = showLocationModal;
            document.getElementById('btnSponsor').onclick = () => {
                if (window.sponsorSystem) {
                    window.sponsorSystem.showSponsorCreateModal();
                }
            };
            
            // Sponsor sistemi baÅŸlat
            if (window.SponsorChannelSystem) {
                window.sponsorSystem = new window.SponsorChannelSystem();
            }
        });

        // Lokasyon gÃ¶stergesini gÃ¼ncelle
        function updateLocationIndicator() {
            const locationData = JSON.parse(localStorage.getItem('userLocation') || '{}');
            const locationIndicator = document.getElementById('locationIndicator');
            const currentLocation = document.getElementById('currentLocation');
            
            if (locationData.city && locationData.country) {
                locationIndicator.style.display = 'inline-flex';
                currentLocation.textContent = `${locationData.city}, ${locationData.country}`;
            }
        }

        // Lokasyon modal'Ä± gÃ¶ster
        function showLocationModal() {
            const locationData = JSON.parse(localStorage.getItem('userLocation') || '{}');
            alert(`ğŸ“ Mevcut Lokasyon:\n${locationData.city || 'Bilinmiyor'}, ${locationData.country || 'Bilinmiyor'}\n\nğŸŒ Dil: ${localStorage.getItem('selectedLanguage') || 'TR'}\n\nLokasyon otomatik olarak algÄ±lanmÄ±ÅŸtÄ±r.`);
        }

        // Mobil menÃ¼ toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('open');
        }

        // Lokasyon deÄŸiÅŸtiÄŸinde gÃ¶stergeleri gÃ¼ncelle
        window.addEventListener('storage', (e) => {
            if (e.key === 'userLocation') {
                updateLocationIndicator();
            }
        });
  </script>
</body>
</html>