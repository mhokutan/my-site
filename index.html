<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>One-Time Chat</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="description" content="Rastgele eÅŸleÅŸme ile tek seferlik sohbet." />
</head>
<body>
  <header class="site-header">
    <div class="brand">Oneâ€‘Time <span>Chat</span></div>
    <button id="themeToggle" aria-label="Tema deÄŸiÅŸtir">ğŸŒ“</button>
  </header>

  <main class="container">
    <section class="card intro">
      <h1>Rastgele Tek Seferlik Sohbet</h1>
      <p class="muted">HTML, CSS ve JavaScript ile Ã§alÄ±ÅŸan; Ã¼cretsiz, uÃ§tan uca eÅŸleÅŸtirmeli, tek seferlik bir metin sohbeti.</p>

      <div class="row">
        <label for="nickname">Takma ad (isteÄŸe baÄŸlÄ±)</label>
        <input id="nickname" type="text" maxlength="20" placeholder="Ã–rn: Deniz" />
      </div>

      <div id="googleSignIn"></div>

      <div class="actions">
        <button id="startBtn" class="primary">Sohbete BaÅŸla</button>
        <button id="nextBtn" class="ghost" disabled>Sonraki</button>
        <button id="endBtn" class="danger" disabled>Bitir</button>
      </div>

      <div id="status" class="status">HazÄ±r.</div>

      <details class="help">
        <summary>NasÄ±l Ã§alÄ±ÅŸÄ±r?</summary>
          <ul>
            <li>HiÃ§bir mesaj sunucuda saklanmaz. Mesajlar eÅŸler arasÄ± (P2P) aktarÄ±lÄ±r.</li>
            <li>EÅŸleÅŸtirme iÃ§in Ã¼cretsiz <b>Firebase Realtime Database</b>, baÄŸlantÄ± iÃ§in <b>PeerJS (WebRTC)</b> kullanÄ±lÄ±r.</li>
            <li>Ä°lk kurulum iÃ§in <code>app.js</code> iÃ§indeki <code>firebaseConfig</code>'i doldurmalÄ±sÄ±n.</li>
            <li>5 saniye iÃ§inde eÅŸleÅŸme bulunamazsa basit bir yapay zekayla sohbet baÅŸlar.</li>
          </ul>
        </details>
      </section>

    <section class="card chat hidden" id="chatCard" aria-live="polite">
      <div class="chatHeader">
        <div>
          <div class="chip" id="roomChip">BaÄŸlÄ± deÄŸil</div>
          <div class="subtle" id="peerInfo"></div>
        </div>
      </div>

      <div id="messages" class="messages" aria-label="Mesajlar"></div>

      <form id="sendForm" class="sendBar">
        <input id="messageInput" type="text" placeholder="Mesaj yaz..." autocomplete="off" maxlength="500" />
        <button id="sendBtn" class="primary" type="submit" disabled>GÃ¶nder</button>
      </form>
    </section>
  </main>

  <footer class="site-footer">
    <small class="muted">
      UyarÄ±: LÃ¼tfen kiÅŸisel bilgi paylaÅŸma. Bu demo eÄŸitim amaÃ§lÄ±dÄ±r.
    </small>
  </footer>

  <!-- Firebase & PeerJS (CDN) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-database-compat.js"></script>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>

  <!-- Environment variables (generated) -->
  <script src="env.js"></script>

  <!-- App -->
  <script src="app.js"></script>

  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer onload="initGoogleAuth()"></script>
</body>
</html>
